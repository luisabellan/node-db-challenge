"use strict";var express=require("express"),Resources=require("./task-model"),router=express.Router();router.get("/",function(e,s){Resources.find().then(function(e){s.json(e)}).catch(function(e){s.status(500).json({message:"Failed to get resources"})})}),router.get("/:id",function(e,s){var t=e.params.id;Resources.findById(t).then(function(e){e?s.json(e):s.status(404).json({message:"Could not find resource with given id."})}).catch(function(e){s.status(500).json({message:"Failed to get resources"})})}),router.post("/",function(e,s){var t=e.body;Resources.add(t).then(function(e){s.status(201).json(e)}).catch(function(e){s.status(500).json({message:"Failed to create new resource"})})}),router.put("/:id",function(e,s){var t=e.params.id,o=e.body;Resources.findById(t).then(function(e){e?Resources.update(o,t).then(function(e){s.json(e)}):s.status(404).json({message:"Could not find resource with given id"})}).catch(function(e){s.status(500).json({message:"Failed to update resource"})})}),router.delete("/:id",function(e,s){var t=e.params.id;Resources.remove(t).then(function(e){e?s.json({removed:e}):s.status(404).json({message:"Could not find resource with given id"})}).catch(function(e){s.status(500).json({message:"Failed to delete resource"})})}),module.exports=router;