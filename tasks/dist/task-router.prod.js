"use strict";var express=require("express"),Tasks=require("./task-model"),router=express.Router();router.get("/",function(t,s){Tasks.find().then(function(t){s.json(t)}).catch(function(t){s.status(500).json({message:"Failed to get tasks"})})}),router.get("/:id",function(t,s){var e=t.params.id;Tasks.findById(e).then(function(t){t?s.json(t):s.status(404).json({message:"Could not find task with given id."})}).catch(function(t){s.status(500).json({message:"Failed to get tasks"})})}),router.post("/",function(t,s){var e=t.body;Tasks.add(e).then(function(t){s.status(201).json(t)}).catch(function(t){s.status(500).json({message:"Failed to create new task"})})}),router.put("/:id",function(t,s){var e=t.params.id,n=t.body;Tasks.findById(e).then(function(t){t?Tasks.update(n,e).then(function(t){s.json(t)}):s.status(404).json({message:"Could not find task with given id"})}).catch(function(t){s.status(500).json({message:"Failed to update task"})})}),router.delete("/:id",function(t,s){var e=t.params.id;Tasks.remove(e).then(function(t){t?s.json({removed:t}):s.status(404).json({message:"Could not find task with given id"})}).catch(function(t){s.status(500).json({message:"Failed to delete task"})})}),module.exports=router;